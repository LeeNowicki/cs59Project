**ScheduleScript**

----------------

<!-- Note: wrapping table in div.noheader will hide the table's header -->
<!-- Note: wrapping table in div.firstcol will style the first column different from other columns -->
<div class="noheader firstcol">
                  |             
------------------|-------------
Authors           | Aleksander Nowicki, Jacob Bacus, Henry Stauch
</div>

ScheduleScript is a domain specific language (dsl) that allows users to create JSON files which represent calendars.
Within this repository there is also a `CalendarDriver` class which allows the user to generate these JSON from .txt files, import from these JSON files,  render them
using CalendarFX (a javaFX framework), and save them.

Project structure:
- `src` - code files for generating JSON files, working with these files, and displaying calendars with CalendarFX
- `Calendar.g4` - grammar file that defines our dsl
- `gen` - ANTLR lexer and parser output from grammar
- `images` - images from various tests
- `testing` - several example inputs and resulting JSON files
- `pom.xml` - Maven file for loading packages

Dependencies:
- `Java23`
- `Maven` for loading relevant packages


Usage
==============
To use our project:
- Fork this repository
- Use Maven and `pom.xml` to load the relevant packages for JavaFX, ANTLR, CalendarFX, and java's JSON support
- Run `CalendarDriver.java` with the javaVM options on to inlcude the JavaFX modules `javafx.controls` and `javafx.web`
- Load an existing JSON, generate a JSON from an existing .txt file, or generate a new JSON from a new .txt file and display it

Architecture
==============
This project uses ANTLR grammar to generate a parser and listener to for our language, which we have then expanded upon to add functionality. Currently, the functionality is used during the parse. 

This parsed language is then used to modify a HashMap of JSON objects indexed by their name for quick lookup and deletion, with each JSON object having the information of the event (including its name, type, and an array of start times and end times), which can be exported or directly displayed. 

The calendar is then displayed, from the JSON file, using the Calendar FX framework. 


Documentation
==============
The primary components that make up calendars are events. before any action can be performed on an event,
the event must be initialized. An initialization can be done as such:

~~~~
EventType "NameofEvent" Time-Time optionalDate
~~~~

- EventType - can be any single word and determines which grouping the event will be assigned to when the calendar renders.
- "NameofEvent" - The actual name of the event when rendered. Used as reference later for actions in the language.
- Time-Time - Each Time is of the format XX:XX and each Time-Time pair should have the first time be smaller
- optionalDate - Dates have two formats Numeric and Written. Numeric dates are of the form Month/Day/Year. Written dates are of the form Month Date optionalYear

Here are some basic examples:
~~~~
Class "Math" 11:00-13:00
Class "English" 13:00-15:00 1/23/2025
Class "Spanish" 08:00-10:00 Jan 2
Music "Guitar Lessons" 14:00-15:00 Feb 4 2024
Music "Vocal Lessons" 09:00-10:00 March 6 2027
~~~~

---------

Once an event has been established, there are 5 different actions which can be performed on it
these are denoted by the keywords `Invite` `Repeat` `Extend` `Cancel` and `Reminder`

---------

`Invite` allows you to automatically write a JSON to a file with a particular event contained within it.
`Invite` is of the format:

~~~~
Invite "Name" to "NameofEvent" on Date
~~~~

- "Name" - an arbitrary name of the person you are inviting, used to name the resulting JSON
- "NameofEvent" - the name of an event that you have already declared and MUST match an existing event
- Date - a Numeric or Written date on which the event you are inviting the person occurs. It must match with a day that "NameofEvent" is occuring
- `to` and `on` are optional words

Here are some examples:

~~~~
Invite "Josh" to "Brunch" on 1/13/2024
Invite "Jason" "Study Session" Aug 14 2024
~~~~

---------

`Repeat` allows you to automatically generate repititions of an event at certain times
`Repeat` has the format:

~~~~
Repeat "NameofEvent" frequency
~~~~

- "NameofEvent" - the name of an event that you have already declared and MUST match an existing event
- frequency can take several formats:
    - `Every` - on its own this indicates every single day
    - `Every` someWeekday (and someWeekday...) - will repeat every week on the specified day(s)
    - `Biweekly` someWeekday (and someWeekday...) - will repeat every week on the specified day(s)
    - `Weekly someWeekday (and someWeekday...) - will repeat every other week on the specified day(s) starting with day the event first occurs
    - `Annually` - will repeat on this day every year
    - `Monthly` - will repeat on this date every month
    - someWeekday can be the full name of the day or the abbreviation with the first letter capitalized

Some examples:

~~~~
Repeat "Study" Every
Repeat "Class" Every Mon and Tues
Repeat "Rehearsal" Biweekly Monday and Sunday
Repeat "Make budget" Monthly
Repeat "File taxes" Annually
Repeat "Workout" Weekly Monday and Tuesday and Wednesday and Thurs and Fri and Saturday and Sun
~~~~

---------

`Extend` allows you to take an extisting event and push back its end time
`Extend` is written as such:

~~~~
Extend "NameofEvent" date duration
~~~~

- "NameofEvent" - the name of an event that you have already declared and MUST match an existing event
- Date - a Numeric or Written date on which the event you are extending occurs. It must match with a day that "NameofEvent" is occuring
- duration - someNumber followed by hour(s) or min(s) denoting how long to extend it by

Here are some examples:

~~~~
Extend "Coffee with friends" 2/3/2024 30 mins
Extend "Class" Aug 1 2025 1 hour 
Extend "Coding session" 4/1/2024 20 min
Extend "Work" 4/25/2025 2 hours
~~~~

---------

`Cancel` deletes an occurence of an event and is of the following form:

~~~~
Cancel "NameofEvent" optionalDate
~~~~

- "NameofEvent" - the name of an event that you have already declared and MUST match an existing event
- optionalDate - the date of a specific occurence of an event you wish to cancel. If not included, will delete all occurrences of the event

Examples of `Cancel`:

~~~~
Cancel "Class" 12/25/2025
Cancel "Work"
Cancel "Coding Session"
~~~~

---------

`Reminder` generates a short event in a special group of events on the calendar when it renders.
`Reminder` has the following format:

~~~~
Reminder "NameofReminder" (Date or Time or Date Time)
~~~~

- "NameofReminder" - an arbitrary name to be assigned to the reminder
- Date - a Numeric or Written date on which the reminder should occur
- Time - a time of format XX:XX at which the reminder occurs
- If a time or date is no specified the current time or date will be filled in

Some examples of `Reminder` are:

~~~~
Reminder "Take out the trash" 12:00
Reminder "Clean Car" 12/20/2025 08:00
Reminder "Go Home" 17:00
Reminder "Get groceries" 12/30/2004
~~~~


Examples
==============

~~~~
Class "ASTR 2" 11:30 - 11:35 8/11/2025
Repeat "ASTR 2" Every Monday and Wednesday and Thursday
Class "EARS 5" 10:10 - 12:00 Aug 12 2025
Repeat "EARS 5" Weekly Tuesday and Thursday
Class "CS59" 14:25 to 16:15
Repeat "CS59" Every Tuesday and Thursday
FYT "FYT DOC Training" 03:30 8/15/2025
Extend "FYT DOC Training" 8/15/2025 30 mins
Frat "Execs" 09:15 9/12/2025
Study "Review for ASTR Quiz" 21:00 - 22:00
Music "Rah" 20:00 to 22:00
Repeat "Rah" Weekly
Reminder "Get Laundry" 15:00
Reminder "Message Josh" 20:00
Reminder "Apply to jobs" 8/16/2025
Finance "Check Credit Cards" 14:00 8/22/2025
Repeat "Check Credit Cards" Monthly
Invite "Jason" to "Execs" on 8/12/2025
~~~~

------------------

![A screenshot of the above calendar running](./images/jacobcal.png width=600px)

------------------

~~~~
Event "Coding Sesh" 00:00
Event "Coding Sesh" 00:15
Event "Coding Sesh" 00:30
Event "Coding Sesh" 00:45
Event "Coding Sesh" 01:00
Event "Coding Sesh" 01:15
Event "Coding Sesh" 01:30
Event "Coding Sesh" 01:45
Event "Coding Sesh" 02:00
Event "Coding Sesh" 02:15
Event "Coding Sesh" 02:30
Event "Coding Sesh" 02:45
Event "Coding Sesh" 03:00
Event "Coding Sesh" 03:15
Event "Coding Sesh" 03:30
Event "Coding Sesh" 03:45
Event "Coding Sesh" 04:00
Event "Coding Sesh" 04:15
Event "Coding Sesh" 04:30
Event "Coding Sesh" 04:45
Event "Coding Sesh" 05:00
Event "Coding Sesh" 05:15
Event "Coding Sesh" 05:30
Event "Coding Sesh" 05:45
Event "Coding Sesh" 06:00
Event "Coding Sesh" 06:15
Event "Coding Sesh" 06:30
Event "Coding Sesh" 06:45
Event "Coding Sesh" 07:00
Event "Coding Sesh" 07:15
Event "Coding Sesh" 07:30
Event "Coding Sesh" 07:45
Event "Coding Sesh" 08:00
Event "Coding Sesh" 08:15
Event "Coding Sesh" 08:30
Event "Coding Sesh" 08:45
Event "Coding Sesh" 09:00
Event "Coding Sesh" 09:15
Event "Coding Sesh" 09:30
Event "Coding Sesh" 09:45
Event "Coding Sesh" 11:00
Event "Coding Sesh" 11:15
Event "Coding Sesh" 11:30
Event "Coding Sesh" 11:45
Event "Coding Sesh" 12:00
Event "Coding Sesh" 12:15
Event "Coding Sesh" 12:30
Event "Coding Sesh" 12:45
Event "Coding Sesh" 13:00
Event "Coding Sesh" 13:15
Event "Coding Sesh" 13:45
Event "Coding Sesh" 13:00
Event "Coding Sesh" 14:00
Event "Coding Sesh" 14:15
Event "Coding Sesh" 14:30
Event "Coding Sesh" 14:45
Event "Coding Sesh" 15:00
Event "Coding Sesh" 15:15
Event "Coding Sesh" 15:30
Event "Coding Sesh" 15:45
Event "Coding Sesh" 16:00
Event "Coding Sesh" 16:15
Event "Coding Sesh" 16:30
Event "Coding Sesh" 16:45
Event "Coding Sesh" 17:00
Event "Coding Sesh" 17:15
Event "Coding Sesh" 17:30
Event "Coding Sesh" 17:45
Event "Coding Sesh" 18:00
Event "Coding Sesh" 18:15
Event "Coding Sesh" 18:30
Event "Coding Sesh" 18:45
Event "Coding Sesh" 19:00
Event "Coding Sesh" 19:15
Event "Coding Sesh" 19:30
Event "Coding Sesh" 19:45
Event "Coding Sesh" 20:00
Event "Coding Sesh" 20:15
Event "Coding Sesh" 20:30
Event "Coding Sesh" 20:45
Event "Coding Sesh" 21:00
Event "Coding Sesh" 21:15
Event "Coding Sesh" 21:30
Event "Coding Sesh" 21:45
Event "Coding Sesh" 22:00
Event "Coding Sesh" 22:15
Event "Coding Sesh" 22:30
Event "Coding Sesh" 22:45
Event "Coding Sesh" 23:00
Event "Coding Sesh" 23:15
Event "Coding Sesh" 23:30
Event "Coding Sesh" 23:45
Repeat "Coding Sesh" Every
~~~~

------------------

![A screenshot of the above calendar running](./images/stresstest.png width=600px)

------------------

~~~~
Class "Geography" 16:30 - 18:20 8/14/2025
Class "Geography" 16:30 - 18:20 8/12/2025
Repeat "Geography" Weekly
Reminder "Wake Up" Sep 4 2025 08:00
Birthdays "Will Kelloggs Birthday" 00:00 - 01:00 Aug 20 2025
Birthdays "Henry Stauchs Birthday" 00:00 - 01:00 Apr 17 2025
Repeat "Will Kelloggs Birthday" Annually
Repeat "Henry Stauchs Birthday" Every
Birthdays "Dads Birthday" 00:00 - 01:00 Aug 28 2025
Repeat "Dads Birthday" Annually
Class "CS59" 14:25 to 16:15 8/14/2025
Class "CS59" 14:25 to 16:15 8/12/2025
Repeat "CS59" Weekly
Class "Feminist Queer Zones" 12:50 to 13:55 8/13/2025
Repeat "Feminist Queer Zones" Weekly
Extend "Feminist Queer Zones" 8/13/2025 1 hours
Cancel "CS59" 8/12/2025
Music "Rah" 20:00 to 22:00 8/14/2025
Repeat "Rah" Weekly Tuesday and Thursday
Music "Reverse Rah" 22:00 - 20:00 8/15/2025
Cancel "Rah"
~~~~

------------------

![A screenshot of the above calendar running](./images/henrycal.png width=600px)


Issues
==============

Known Issues:
- Repeating an event then attempting a cancel on a date where the event will be as a result of the repeat will fail as the parser does not perform the operations for repeating

- Similarly, attempting to extend a repeated event fails if referencing by a repeated date

- In the future, we want to replace listener generation with visitor generation to separate syntax errors from semantic errors

- New Lines result in an error because they are parsed


Division of Labor
=============
Henry Stauch:
- Wrote and rewrote `Reminder` keyword
- Wrote deprecated `ReminderHandler.java`
- Added methods to integrated `Reminder` in `JSONHandler.java`
- Began `Invite` keyword
- Wrote rendering of reminders in `JSONtoCalendar.java`

Jacob Bacus:
- Wrote `DateHandler.java`
- Wrote `Repeat` keyword
- Wrote `Extend` keyword
- Wrote rendering for events in `JSONtoCalendar.java`
- Wrote documentation

Aleksander Nowicki:
- Wrote bulk of `JSONHandler.java`
- Wrote `CalendarDriver.java`
- Wrote `Cancel` keyword
- Finished `Invite` keyword
- Wrote `Invite` functionality

We all wrote the grammar while passing around one computer. Design of JSON and calendar rendering was brainstormed
as a group.

<!--   Feel free to modify the following to fit a theme of your choosing   -->
<link href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet"> <!-- a sans-serif font -->
<style>  /* A TAYLOR-INSPIRED THEME */
    body {font-family:'Open Sans',sans-serif;}
    .md a:link, .md a:visited {color:hsl(252,23.0%,44.3%); font-family:'Open Sans',sans-serif;}
    .md table.table th {background-color:hsl(252,23.0%,44.3%);}
    .md .noheader th {display:none;}
    .md .firstcol td:first-child {white-space:pre;color:white;vertical-align:top;font-weight:bold;border-color:black;background:hsl(252,23.0%,54.3%);}
    .md .firstcol tr:nth-child(even) td:first-child {background:hsl(252,23.0%,44.3%);}
</style>


<!-- ****************************** -->
<!--    Leave the content below     -->
<!-- ****************************** -->

<!-- The script and style below are added for clarity and to workaround a bug -->
<script>
    // this is a hack to workaround a bug in Markdeep+Mathjax, where
    // `$`` is automatically converted to `\(`` and `\)`` too soon.
    // the following code will replace the innerHTML of all elements
    // with class "dollar" with a dollar sign.
    setTimeout(function() {
        var dollars = document.getElementsByClassName('dollar');
        for(var i = 0; i < dollars.length; i++) {
            dollars[i].innerHTML = '&#' + '36;'; // split to prevent conversion to $
        }
    }, 1000);
</script>
<style>
    /* adding some styling to <code> tags (but not <pre><code> coding blocks!) */
    :not(pre) > code {
        background-color: rgba(0,0,0,0.05);
        outline: 1px solid rgba(0,0,0,0.15);
        margin-left: 0.25em;
        margin-right: 0.25em;
    }
    /* fixes table of contents of medium-length document from looking weird if admonitions are behind */
    .md div.mediumTOC { background: white; }
    .md div.admonition { position: initial !important; }
</style>

<!--   Leave the following Markdeep formatting code, as this will format your text above to look nice in a wed browser   -->

<script src="https://casual-effects.com/markdeep/latest/markdeep.min.js"></script><!-- Markdeep: --><style class="fallback">body{visibility:hidden;white-space:pre;font-family:monospace}</style><script src="markdeep.min.js"></script><script src="https://casual-effects.com/markdeep/latest/markdeep.min.js?"></script><script>window.alreadyProcessedMarkdeep||(document.body.style.visibility="visible")</script>
